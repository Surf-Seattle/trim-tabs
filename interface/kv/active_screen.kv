#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import colors kivymd.color_definitions.colors
#:import Window kivy.core.window.Window


<MyMDLabel@MDLabel>
    size_hint_y: None
    height: self.texture_size[1]

<TabControl>
    # A single Up / Down control on the Active screen
    # Represents one of the configured control surfaces
    id: __tab_control__

    BoxLayout:
        id: layout_box
        orientation: 'vertical'

        # Increment Button
        MDFloatingActionButton:
            id:increment_control
            icon: "plus"
            opposite_colors: True
            elevation: 8
            md_bg_color: 1, 0, 0, 1
            md_bg_color: gch("#ffd54f")
            on_release: root.increment(self)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            disabled: True

        # Control Surface Value
        MyMDLabel:
            id: control_surface_value
            font_style: "H1"
            text: str(int(parent.value))
            halign: "center"

        # Decrement Button
        MDFloatingActionButton:
            id: decrement_control
            icon: "minus"
            opposite_colors: True
            elevation: 8
            md_bg_color: 1, 0, 0, 1
            md_bg_color: gch("#ffd54f")
            on_release: root.decrement(self)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            disabled: True

        # Control Surface Name
        MyMDLabel:
            id: spacer_lol
            font_style: "Caption"
            text: " "
            halign: "center"
            valign: "top"

        # Control Surface Name
        MyMDLabel:
            id: control_surface_name
            font_style: "Caption"
            text: root.id
            halign: "center"
            valign: "top"

<ControlPanel>
    # This is the structure which will hold about 2 or 3 UpDownControl
    # depending on how many control surfaces are configured.

    MDBoxLayout:
        orientation: 'horizontal'
        pos_hint: {"center_x": 0.5, "top": 0.6}
        padding: [150, 0]  # [left & right, top & bottom]
        width: Window.width

        adaptive_width: False
        adaptive_height: True

        GridLayout:
            id: interactive_controls
            cols: root.column_count
            rows: 1
            orientation: 'rl-tb'  # right to left, top to bottom

            # Padding between the layout box and its children: [padding_left, padding_top, padding_right, padding_bottom].
            # padding also accepts a two argument form [padding_horizontal, padding_vertical] and a one argument form [padding].
            # https://kivy.org/doc/stable/api-kivy.uix.gridlayout.html#kivy.uix.gridlayout.GridLayout.padding
            padding: [0, 0, 0, 0]

            # Spacing between children: [spacing_horizontal, spacing_vertical].
            # spacing also accepts a one argument form [spacing].
            # spacing is a VariableListProperty and defaults to [0, 0].
            # https://kivy.org/doc/stable/api-kivy.uix.gridlayout.html#kivy.uix.gridlayout.GridLayout.padding
            spacing: [20, 0]




<SurfActiveScreen>
    id: active_screen

    MDBoxLayout:
        orientation: 'vertical'

        AnchorLayout:
            padding: [0, dp(120), 0, 0]
            ControlPanel:
                id: control_panel

